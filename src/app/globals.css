@import "tailwindcss";

/* CSS Variables for theming */
:root {
  --bg: #040304;
  --fg: #EFD2BC;
  --fg-muted: #D2B6A1;
  --accent: #DCA293;
  --card: #0a0a0a;
  --border: #1a1a1a;
  
  /* Animation tokens */
  --ease: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --dur-fast: 180ms;
  --dur-base: 240ms;
  --dur-slow: 320ms;
}

html {
  color-scheme: dark;
  scroll-behavior: smooth;
}

body {
  background: var(--bg);
  color: var(--fg);
  font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  line-height: 1.6;
  letter-spacing: 0.01em;
  position: relative;
}

/* Subtle grain overlay */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: 
    radial-gradient(circle at 50% 20%, rgba(220, 162, 147, 0.03) 0%, transparent 50%),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.015'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: -1;
}

/* Focus styles for accessibility */
*:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 2px;
}

/* Skip to content link */
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--card);
  color: var(--fg);
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 6px;
  z-index: 100;
  border: 1px solid var(--border);
  transition: top 0.3s;
}

.skip-to-content:focus {
  top: 6px;
}

/* Utility classes */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

@media (min-width: 640px) {
  .container {
    padding: 0 2rem;
  }
}

.section {
  padding: 4rem 0;
}

@media (min-width: 768px) {
  .section {
    padding: 6rem 0;
  }
}

/* Selection styling */
::selection {
  background-color: rgba(220, 162, 147, 0.3);
  color: var(--fg);
}

/* Smooth transitions for hover effects */
.transition-all {
  transition: all 0.2s ease-in-out;
}

/* Optional background noise texture */
.bg-noise {
  position: relative;
}

.bg-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
  mix-blend-mode: overlay;
}

/* Animation utility classes */
.transition-base {
  transition: all var(--dur-base) var(--ease);
}

.transition-fast {
  transition: all var(--dur-fast) var(--ease-out);
}

/* Hover effects for interactive elements */
.hover-lift {
  transition: transform var(--dur-fast) var(--ease-out);
}

.hover-lift:hover {
  transform: translateY(-2px);
}

/* Shine effect for avatar */
.shine-on-hover {
  position: relative;
  overflow: hidden;
}

.shine-on-hover::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    45deg,
    transparent 30%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 70%
  );
  transform: translateX(-100%);
  transition: transform var(--dur-slow) var(--ease);
}

.shine-on-hover:hover::after {
  transform: translateX(100%);
}

/* Reduce animations for accessibility */
@media (prefers-reduced-motion: reduce) {
  .transition-base,
  .transition-fast,
  .hover-lift,
  .shine-on-hover::after {
    transition: none;
  }
  
  .hover-lift:hover {
    transform: none;
  }
  
  .shine-on-hover:hover::after {
    transform: translateX(-100%);
  }
}

/* TextType cursor animation */
@keyframes texttype-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* Fluid container utilities */
.content-width {
  max-width: 72rem;
}

@media (min-width: 1536px) {
  .content-width {
    max-width: 80rem;
  }
}

@media (min-width: 1920px) {
  .content-width {
    max-width: 88rem;
  }
}

@media (min-width: 2560px) {
  .content-width {
    max-width: 96rem;
  }
}

/* Fluid spacing utilities */
.section-y {
  padding-block: clamp(2rem, 4vw + 1rem, 6rem);
}

.section-x {
  padding-inline: clamp(1rem, 3vw, 3rem);
}

/* Header scroll effects */
.header {
  transition: box-shadow 180ms var(--ease), backdrop-filter 180ms var(--ease);
}

.header.has-shadow {
  box-shadow: 0 6px 20px -12px rgba(0, 0, 0, 0.45);
  backdrop-filter: saturate(1.1) blur(4px);
}

/* Reduce motion accessibility */
@media (prefers-reduced-motion: reduce) {
  .header {
    transition: none;
  }
}

/* Hero spotlight effect */
.hero-spotlight::before {
  content: "";
  position: absolute;
  inset: -10% -10% -10% -10%;
  background: radial-gradient(60% 60% at 50% 35%, rgba(220, 162, 147, 0.12), transparent 70%);
  pointer-events: none;
  z-index: -1;
}

/* Content visibility for performance */
.content-auto {
  content-visibility: auto;
  contain-intrinsic-size: 1px 1000px;
}

/* Fullpage scroll-snap styles - activated only when 'fullpage' class is added */
html.fullpage, body.fullpage {
  height: 100%;
  scroll-behavior: smooth;
  overscroll-behavior-y: contain;
}

main.fullpage {
  height: 100svh;
  overflow-y: auto;
  scroll-snap-type: y mandatory;
}

section[data-snap] {
  min-height: 100svh; /* Uses 100svh for better iOS support */
  scroll-snap-align: start;
  scroll-snap-stop: always;
}

/* Prevent header from covering anchor starts */
section[data-snap] { 
  scroll-margin-top: 84px; /* Adjust to actual header height */
}

/* Smooth transitions for reduced motion */
@media (prefers-reduced-motion: reduce) {
  html.fullpage, body.fullpage {
    scroll-behavior: auto;
  }
  
  main.fullpage {
    scroll-snap-type: none;
  }
  
  section[data-snap] {
    scroll-snap-align: none;
    scroll-snap-stop: normal;
  }
}
